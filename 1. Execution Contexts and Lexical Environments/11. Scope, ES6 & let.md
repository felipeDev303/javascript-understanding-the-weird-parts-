# Scope, ES6 y let

## ¿Qué es el Scope?

**Definición:**  
Área en la que una variable es visible y accesible.

**Determina:**
- Dónde puedes usar una variable
- Cuánto tiempo vive
- Quién tiene permiso para leerla o modificarla

---

## Tipos de Scope en JavaScript

### 1. Global Scope

Variables accesibles desde cualquier parte del programa.

```js
let x = 10; // global
```

### 2. Function Scope

Variables creadas dentro de una función solo pueden usarse dentro de ella.

```js
function test() {
  let y = 20;
}
console.log(y); // Error
```

### 3. Block Scope (ES6)

Variables declaradas con `let` y `const` solo son accesibles dentro del bloque `{}`.

```js
{
  let z = 30;
}
console.log(z); // Error
```

---

## Cambio crucial de ES6: Block Scope con `let`

**Antes de ES6 (solo `var`):**
```js
if (true) {
  var a = 10;
}
console.log(a); // 10 (var NO respeta el bloque)
```

**Con ES6 (`let`/`const`):**
```js
if (true) {
  let b = 20;
}
console.log(b); // Error (let respeta el bloque)
```

**Diferencia clave:**
- `let` y `const` respetan el bloque
- `var` NO respeta el bloque (solo respeta la función)

---

## Hoisting con `let`: Temporal Dead Zone (TDZ)

Las variables `let` también son hoisted, pero no pueden usarse antes de estar declaradas.

```js
console.log(a); // Error
let a = 10;
```

**Razón:**  
Existe un periodo entre el inicio del scope y la línea de declaración donde la variable existe pero no está inicializada.

Ese periodo es la **TDZ — Temporal Dead Zone**.

---

## Resumen

- **Global Scope:** accesible desde cualquier lugar
- **Function Scope:** accesible solo dentro de la función
- **Block Scope (ES6):** accesible solo dentro del bloque `{}`

**Diferencias:**
- `var` → vive en función o global (NO respeta bloques)
- `let`/`const` → viven en bloques (SÍ respetan bloques)
- TDZ → periodo donde `let`/`const` existen pero no son accesibles

---

Anterior tema: [The Scope Chain](./8.%20The%20Scope%20Chain.md) | Siguiente tema: [Asynchronous Callbacks](./10.%20Asynchronous%20Callbacks.md) | Volver al índice: [Índice Temático](./README.md)
