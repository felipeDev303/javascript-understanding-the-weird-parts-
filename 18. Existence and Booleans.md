# Existence and Booleans

## Valores Truthy y Falsy

JavaScript convierte cualquier valor a booleano en contextos booleanos (condiciones, operadores lógicos).

---

## Valores Falsy

Valores que se convierten a `false`:

1. `false` (el booleano)
2. `0` (número cero)
3. `-0` (cero negativo)
4. `""` o `''` (string vacío)
5. `null`
6. `undefined`
7. `NaN`

**Ejemplo:**

```js
if ("") {
  console.log("No se ejecuta"); // string vacío es falsy
}

if (0) {
  console.log("No se ejecuta"); // 0 es falsy
}
```

---

## Valores Truthy

**Todo lo demás** es truthy:

- Strings no vacíos: `"hola"`, `"0"`, `" "`
- Números diferentes de 0: `1`, `-1`, `3.14`
- Arrays vacíos: `[]`
- Objetos vacíos: `{}`
- Funciones: `function() {}`
- `true` (el booleano)

**Ejemplo:**

```js
if ("hola") {
  console.log("Se ejecuta"); // string no vacío es truthy
}

if ([]) {
  console.log("Se ejecuta"); // array vacío es truthy
}
```

---

## Uso para verificar existencia

Puedes usar la conversión a booleano para verificar si una variable existe o tiene valor:

```js
let nombre;

if (nombre) {
  console.log("Nombre existe");
} else {
  console.log("Nombre no definido"); // Se ejecuta esto
}

nombre = "Felipe";

if (nombre) {
  console.log("Nombre existe"); // Ahora se ejecuta esto
}
```

---

## Problema común: verificar el número 0

```js
let cantidad = 0;

if (cantidad) {
  console.log("Hay cantidad");
} else {
  console.log("No hay cantidad"); // Se ejecuta (0 es falsy)
}
```

**Solución:** Verificar explícitamente:

```js
if (cantidad !== undefined && cantidad !== null) {
  console.log("Cantidad está definida");
}

// O usar nullish coalescing
let valor = cantidad ?? "valor por defecto";
```

---

## Default values con ||

El operador `||` devuelve el primer valor truthy:

```js
let nombre = usuario || "Invitado";
```

Si `usuario` es falsy, `nombre` será `"Invitado"`.

**Problema con 0:**

```js
let cantidad = 0;
let valor = cantidad || 10; // valor = 10 (no queremos esto)
```

**Solución ES2020:** Usar `??` (nullish coalescing):

```js
let valor = cantidad ?? 10; // valor = 0 (solo reemplaza null/undefined)
```

---

## Conversión explícita a booleano

### Usando `Boolean()`

```js
Boolean(""); // false
Boolean("hola"); // true
Boolean(0); // false
Boolean(42); // true
Boolean([]); // true
Boolean({}); // true
```

### Usando doble negación `!!`

```js
!!""; // false
!!"hola"; // true
!!0; // false
!!42; // true
!![]; // true
!!{}; // true
```

---

## Resumen

**Falsy (7 valores):**

- `false`, `0`, `-0`, `""`, `null`, `undefined`, `NaN`

**Truthy:**

- Todo lo demás

**Uso práctico:**

- Verificar existencia de valores
- Default values con `||` o `??`
- Conversión explícita con `Boolean()` o `!!`

**Cuidado:**

- `0` es falsy (puede causar bugs)
- `[]` y `{}` son truthy (aunque estén vacíos)

---

Anterior tema: [Comparison Operators](./17.%20Comparison%20Operators.md) | Siguiente tema: [Default Values](./19.%20Default%20Values.md) | Volver al índice: [Índice Temático](./README.md)
